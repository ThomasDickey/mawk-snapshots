# $MawkId: Makefile.in,v 1.5 2020/08/03 20:06:53 tom Exp $
###############################################################################
# copyright 2010-2015,2020 Thomas E. Dickey
#
# This is a source file for mawk, an implementation of
# the AWK programming language.
#
# Mawk is distributed without warranty under the terms of
# the GNU General Public License, version 2, 1991.
###############################################################################
# produce alternate forms from mawk's documentation.

SHELL=/bin/sh

srcdir		= @srcdir@
VPATH		= @srcdir@

PROG	= mawk
manext	= 1

.SUFFIXES : .html .$(manext) .man .ps .pdf .doc .txt

.$(manext).html :
	../man2html.tmp $* $(manext) man >$@

.$(manext).ps :
	$(SHELL) -c "tbl $*.$(manext) | groff -man" >$@

.$(manext).doc :
	GROFF_NO_SGR=stupid $(SHELL) -c "tbl $*.$(manext) | nroff -Tascii -man" >$@

.$(manext).txt :
	GROFF_NO_SGR=stupid $(SHELL) -c "tbl $*.$(manext) | nroff -Tascii -man | col -bx" >$@

.ps.pdf :
	ps2pdf $*.ps

ALL	= \
	$(PROG).html \
	$(PROG).pdf \
	$(PROG).ps

all:	$(PROG).txt $(PROG).doc $(ALL)

clean:
	-rm -f $(ALL)

distclean: clean
	rm -f Makefile

maintainer-clean: clean
	rm -f $(PROG).txt $(PROG).doc

$(PROG).pdf : $(PROG).ps
